2025-12-22 23:11:30,603 - iluminati - ERROR - Error occurred: {'error_type': 'OperationalError', 'error_message': '(psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 711, in checkout\n    rec = pool._do_get()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 144, in simple_response\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 2196, in search_company\n    orsr_provider = get_orsr_provider()\n                ^^^^^^^^^^^^^^^^^^^^^^^\n    orsr_data = orsr_provider.lookup_by_ico(\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        query_clean, force_refresh=force_refresh\n    \n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\sk_orsr_provider.py", line 107, in lookup_by_ico\n    .first()\n     ~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py", line 2759, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py", line 2857, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n        params,\n        ^^^^^^^\n        execution_options={"_sa_orm_load_options": self.load_options},\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2351, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2239, in _execute_internal\n    conn = self._connection_for_bind(bind)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2108, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "<string>", line 2, in _connection_for_bind\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 1187, in _connection_for_bind\n    conn = bind.connect()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3285, in connect\n    return self._connection_cls(self)\n           ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 145, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        err, dialect, engine\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 2448, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 711, in checkout\n    rec = pool._do_get()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\n', 'timestamp': '2025-12-22T23:11:30.603483', 'context': {}, 'request': {'url': 'http://localhost:8000/api/search?q=51321556', 'method': 'GET', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="143", "Chromium";v="143", "Not A(Brand";v="24"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:8012', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8012/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'sk-SK,sk;q=0.9,en-US;q=0.8,en;q=0.7,cs;q=0.6'}}}
2025-12-22 23:25:17,970 - iluminati - ERROR - Error occurred: {'error_type': 'OperationalError', 'error_message': '(psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 711, in checkout\n    rec = pool._do_get()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 144, in simple_response\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 2196, in search_company\n    )\n    \n    edges.append(\n    ^^^^^^^^^^^^^\n        Edge(source=company_id, target=address_id, type="LOCATED_AT")\n    \n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\sk_orsr_provider.py", line 107, in lookup_by_ico\n    .first()\n     ~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py", line 2759, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py", line 2857, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n        params,\n        ^^^^^^^\n        execution_options={"_sa_orm_load_options": self.load_options},\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2351, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2239, in _execute_internal\n    conn = self._connection_for_bind(bind)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2108, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "<string>", line 2, in _connection_for_bind\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 1187, in _connection_for_bind\n    conn = bind.connect()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3285, in connect\n    return self._connection_cls(self)\n           ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 145, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        err, dialect, engine\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 2448, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 711, in checkout\n    rec = pool._do_get()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\n', 'timestamp': '2025-12-22T23:25:17.970078', 'context': {}, 'request': {'url': 'http://localhost:8000/api/search?q=56760892', 'method': 'GET', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="143", "Chromium";v="143", "Not A(Brand";v="24"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://192.168.0.9:8012', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://192.168.0.9:8012/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'sk-SK,sk;q=0.9,en-US;q=0.8,en;q=0.7,cs;q=0.6'}}}
2025-12-22 23:42:23,129 - iluminati - ERROR - Error occurred: {'error_type': 'OperationalError', 'error_message': '(psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 711, in checkout\n    rec = pool._do_get()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 144, in simple_response\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 2196, in search_company\n    type="debt",\n    ^^^^^^^^^^^^\n    country="CZ",\n    ^^^^^^^^^^^^^\n    risk_score=debt_result.get("risk_score", 0),\n    \n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\sk_orsr_provider.py", line 107, in lookup_by_ico\n    .first()\n     ~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py", line 2759, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py", line 2857, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n        params,\n        ^^^^^^^\n        execution_options={"_sa_orm_load_options": self.load_options},\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2351, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2239, in _execute_internal\n    conn = self._connection_for_bind(bind)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2108, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "<string>", line 2, in _connection_for_bind\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 1187, in _connection_for_bind\n    conn = bind.connect()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3285, in connect\n    return self._connection_cls(self)\n           ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 145, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        err, dialect, engine\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 2448, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 711, in checkout\n    rec = pool._do_get()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\n', 'timestamp': '2025-12-22T23:42:23.129491', 'context': {}, 'request': {'url': 'http://localhost:8000/api/search?q=44478038', 'method': 'GET', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="143", "Chromium";v="143", "Not A(Brand";v="24"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://localhost:8012', 'sec-fetch-site': 'same-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8012/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'sk-SK,sk;q=0.9,en-US;q=0.8,en;q=0.7,cs;q=0.6'}}}
2025-12-23 06:35:55,413 - iluminati - ERROR - Error occurred: {'error_type': 'OperationalError', 'error_message': '(psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 711, in checkout\n    rec = pool._do_get()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 144, in simple_response\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 2196, in search_company\n    type="debt",\n    ^^^^^^^^^^^^\n    country="CZ",\n    ^^^^^^^^^^^^^\n    risk_score=debt_result.get("risk_score", 0),\n    \n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\sk_orsr_provider.py", line 107, in lookup_by_ico\n    .first()\n     ~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py", line 2759, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py", line 2857, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n        params,\n        ^^^^^^^\n        execution_options={"_sa_orm_load_options": self.load_options},\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2351, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2239, in _execute_internal\n    conn = self._connection_for_bind(bind)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2108, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "<string>", line 2, in _connection_for_bind\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 1187, in _connection_for_bind\n    conn = bind.connect()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3285, in connect\n    return self._connection_cls(self)\n           ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 145, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        err, dialect, engine\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 2448, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 711, in checkout\n    rec = pool._do_get()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\n', 'timestamp': '2025-12-23T06:35:55.412905', 'context': {}, 'request': {'url': 'http://localhost:8000/api/search?q=99999999', 'method': 'GET', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36', 'sec-ch-ua': '"Google Chrome";v="143", "Chromium";v="143", "Not A(Brand";v="24"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'http://192.168.0.9:8012', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://192.168.0.9:8012/', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'sk-SK,sk;q=0.9,cs;q=0.8,en-US;q=0.7,en;q=0.6'}}}
2026-01-01 17:14:36,052 - iluminati - ERROR - Error occurred: {'error_type': 'OperationalError', 'error_message': '(psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 711, in checkout\n    rec = pool._do_get()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 809, in register\n    existing_user = get_user_by_email(db, user_data.email)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\auth.py", line 113, in get_user_by_email\n    return db.query(User).filter(User.email == email).first()\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py", line 2759, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py", line 2857, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n        params,\n        ^^^^^^^\n        execution_options={"_sa_orm_load_options": self.load_options},\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2351, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2239, in _execute_internal\n    conn = self._connection_for_bind(bind)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2108, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "<string>", line 2, in _connection_for_bind\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 1187, in _connection_for_bind\n    conn = bind.connect()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3285, in connect\n    return self._connection_cls(self)\n           ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 145, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        err, dialect, engine\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 2448, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 711, in checkout\n    rec = pool._do_get()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\n', 'timestamp': '2026-01-01T17:14:36.051853', 'context': {}, 'request': {'url': 'http://localhost:8000/api/auth/register', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate, br', 'accept': '*/*', 'connection': 'keep-alive', 'content-length': '109', 'content-type': 'application/json'}}}
2026-01-01 17:14:46,525 - iluminati - ERROR - Error occurred: {'error_type': 'OperationalError', 'error_message': '(psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 711, in checkout\n    rec = pool._do_get()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 852, in login\n    user = authenticate_user(db, form_data.username, form_data.password)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\auth.py", line 186, in authenticate_user\n    user = get_user_by_email(db, email)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\auth.py", line 113, in get_user_by_email\n    return db.query(User).filter(User.email == email).first()\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py", line 2759, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py", line 2857, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n        params,\n        ^^^^^^^\n        execution_options={"_sa_orm_load_options": self.load_options},\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2351, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2239, in _execute_internal\n    conn = self._connection_for_bind(bind)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2108, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "<string>", line 2, in _connection_for_bind\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 1187, in _connection_for_bind\n    conn = bind.connect()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3285, in connect\n    return self._connection_cls(self)\n           ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 145, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        err, dialect, engine\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 2448, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 711, in checkout\n    rec = pool._do_get()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\n', 'timestamp': '2026-01-01T17:14:46.524988', 'context': {}, 'request': {'url': 'http://localhost:8000/api/auth/login', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate, br', 'accept': '*/*', 'connection': 'keep-alive', 'content-length': '66', 'content-type': 'application/x-www-form-urlencoded'}}}
2026-01-01 17:26:19,209 - iluminati - ERROR - Error occurred: {'error_type': 'OperationalError', 'error_message': '(psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 711, in checkout\n    rec = pool._do_get()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 852, in login\n    user = authenticate_user(db, form_data.username, form_data.password)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\auth.py", line 186, in authenticate_user\n    user = get_user_by_email(db, email)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\auth.py", line 113, in get_user_by_email\n    return db.query(User).filter(User.email == email).first()\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py", line 2759, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py", line 2857, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n        params,\n        ^^^^^^^\n        execution_options={"_sa_orm_load_options": self.load_options},\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2351, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2239, in _execute_internal\n    conn = self._connection_for_bind(bind)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2108, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "<string>", line 2, in _connection_for_bind\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 1187, in _connection_for_bind\n    conn = bind.connect()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3285, in connect\n    return self._connection_cls(self)\n           ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 145, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        err, dialect, engine\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 2448, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 711, in checkout\n    rec = pool._do_get()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\n', 'timestamp': '2026-01-01T17:26:19.209470', 'context': {}, 'request': {'url': 'http://localhost:8000/api/auth/login', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate, br', 'accept': '*/*', 'connection': 'keep-alive', 'content-length': '66', 'content-type': 'application/x-www-form-urlencoded'}}}
2026-01-01 17:26:29,580 - iluminati - ERROR - Error occurred: {'error_type': 'OperationalError', 'error_message': '(psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 711, in checkout\n    rec = pool._do_get()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 809, in register\n    existing_user = get_user_by_email(db, user_data.email)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\auth.py", line 113, in get_user_by_email\n    return db.query(User).filter(User.email == email).first()\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py", line 2759, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py", line 2857, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n        params,\n        ^^^^^^^\n        execution_options={"_sa_orm_load_options": self.load_options},\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2351, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2239, in _execute_internal\n    conn = self._connection_for_bind(bind)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2108, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "<string>", line 2, in _connection_for_bind\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 1187, in _connection_for_bind\n    conn = bind.connect()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3285, in connect\n    return self._connection_cls(self)\n           ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 145, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        err, dialect, engine\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 2448, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 711, in checkout\n    rec = pool._do_get()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\n', 'timestamp': '2026-01-01T17:26:29.580638', 'context': {}, 'request': {'url': 'http://localhost:8000/api/auth/register', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate, br', 'accept': '*/*', 'connection': 'keep-alive', 'content-length': '109', 'content-type': 'application/json'}}}
2026-01-01 17:26:37,897 - iluminati - ERROR - Error occurred: {'error_type': 'OperationalError', 'error_message': '(psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 711, in checkout\n    rec = pool._do_get()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 852, in login\n    user = authenticate_user(db, form_data.username, form_data.password)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\auth.py", line 186, in authenticate_user\n    user = get_user_by_email(db, email)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\auth.py", line 113, in get_user_by_email\n    return db.query(User).filter(User.email == email).first()\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py", line 2759, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py", line 2857, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n        params,\n        ^^^^^^^\n        execution_options={"_sa_orm_load_options": self.load_options},\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2351, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2239, in _execute_internal\n    conn = self._connection_for_bind(bind)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2108, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "<string>", line 2, in _connection_for_bind\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 1187, in _connection_for_bind\n    conn = bind.connect()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3285, in connect\n    return self._connection_cls(self)\n           ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 145, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        err, dialect, engine\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 2448, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 711, in checkout\n    rec = pool._do_get()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\n', 'timestamp': '2026-01-01T17:26:37.897365', 'context': {}, 'request': {'url': 'http://localhost:8000/api/auth/login', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate, br', 'accept': '*/*', 'connection': 'keep-alive', 'content-length': '66', 'content-type': 'application/x-www-form-urlencoded'}}}
2026-01-01 17:32:41,250 - iluminati - ERROR - Error occurred: {'error_type': 'OperationalError', 'error_message': '(psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 711, in checkout\n    rec = pool._do_get()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 852, in login\n    user = authenticate_user(db, form_data.username, form_data.password)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\auth.py", line 186, in authenticate_user\n    user = get_user_by_email(db, email)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\auth.py", line 113, in get_user_by_email\n    return db.query(User).filter(User.email == email).first()\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py", line 2759, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py", line 2857, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n        params,\n        ^^^^^^^\n        execution_options={"_sa_orm_load_options": self.load_options},\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2351, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2239, in _execute_internal\n    conn = self._connection_for_bind(bind)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2108, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "<string>", line 2, in _connection_for_bind\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 1187, in _connection_for_bind\n    conn = bind.connect()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3285, in connect\n    return self._connection_cls(self)\n           ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 145, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        err, dialect, engine\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 2448, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 711, in checkout\n    rec = pool._do_get()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\n', 'timestamp': '2026-01-01T17:32:41.249758', 'context': {}, 'request': {'url': 'http://localhost:8000/api/auth/login', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate, br', 'accept': '*/*', 'connection': 'keep-alive', 'content-length': '66', 'content-type': 'application/x-www-form-urlencoded'}}}
2026-01-01 17:32:51,654 - iluminati - ERROR - Error occurred: {'error_type': 'OperationalError', 'error_message': '(psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 711, in checkout\n    rec = pool._do_get()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 809, in register\n    existing_user = get_user_by_email(db, user_data.email)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\auth.py", line 113, in get_user_by_email\n    return db.query(User).filter(User.email == email).first()\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py", line 2759, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py", line 2857, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n        params,\n        ^^^^^^^\n        execution_options={"_sa_orm_load_options": self.load_options},\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2351, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2239, in _execute_internal\n    conn = self._connection_for_bind(bind)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2108, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "<string>", line 2, in _connection_for_bind\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 1187, in _connection_for_bind\n    conn = bind.connect()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3285, in connect\n    return self._connection_cls(self)\n           ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 145, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        err, dialect, engine\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 2448, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 711, in checkout\n    rec = pool._do_get()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\n', 'timestamp': '2026-01-01T17:32:51.653907', 'context': {}, 'request': {'url': 'http://localhost:8000/api/auth/register', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate, br', 'accept': '*/*', 'connection': 'keep-alive', 'content-length': '109', 'content-type': 'application/json'}}}
2026-01-01 17:32:59,974 - iluminati - ERROR - Error occurred: {'error_type': 'OperationalError', 'error_message': '(psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 711, in checkout\n    rec = pool._do_get()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\npsycopg2.OperationalError: connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 852, in login\n    user = authenticate_user(db, form_data.username, form_data.password)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\auth.py", line 186, in authenticate_user\n    user = get_user_by_email(db, email)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\auth.py", line 113, in get_user_by_email\n    return db.query(User).filter(User.email == email).first()\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py", line 2759, in first\n    return self.limit(1)._iter().first()  # type: ignore\n           ~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\query.py", line 2857, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n        params,\n        ^^^^^^^\n        execution_options={"_sa_orm_load_options": self.load_options},\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2351, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2239, in _execute_internal\n    conn = self._connection_for_bind(bind)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 2108, in _connection_for_bind\n    return trans._connection_for_bind(engine, execution_options)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "<string>", line 2, in _connection_for_bind\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state_changes.py", line 137, in _go\n    ret_value = fn(self, *arg, **kw)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\session.py", line 1187, in _connection_for_bind\n    conn = bind.connect()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3285, in connect\n    return self._connection_cls(self)\n           ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 145, in __init__\n    Connection._handle_dbapi_exception_noconnection(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        err, dialect, engine\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 2448, in _handle_dbapi_exception_noconnection\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 143, in __init__\n    self._dbapi_connection = engine.raw_connection()\n                             ~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\base.py", line 3309, in raw_connection\n    return self.pool.connect()\n           ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 447, in connect\n    return _ConnectionFairy._checkout(self)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 1264, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 711, in checkout\n    rec = pool._do_get()\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 177, in _do_get\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\impl.py", line 175, in _do_get\n    return self._create_connection()\n           ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 388, in _create_connection\n    return _ConnectionRecord(self)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 673, in __init__\n    self.__connect()\n    ~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 899, in __connect\n    with util.safe_reraise():\n         ~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py", line 224, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\pool\\base.py", line 895, in __connect\n    self.dbapi_connection = connection = pool._invoke_creator(self)\n                                         ~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\create.py", line 661, in connect\n    return dialect.connect(*cargs, **cparams)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\engine\\default.py", line 630, in connect\n    return self.loaded_dbapi.connect(*cargs, **cparams)  # type: ignore[no-any-return]  # NOQA: E501\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\psycopg2\\__init__.py", line 135, in connect\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) connection to server at "localhost" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\n', 'timestamp': '2026-01-01T17:32:59.974144', 'context': {}, 'request': {'url': 'http://localhost:8000/api/auth/login', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate, br', 'accept': '*/*', 'connection': 'keep-alive', 'content-length': '66', 'content-type': 'application/x-www-form-urlencoded'}}}
2026-01-01 17:36:26,960 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "C:\Users\engli\Desktop\v4\v4\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2026-01-01 17:36:27,061 - iluminati - ERROR - Error occurred: {'error_type': 'ValueError', 'error_message': 'password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 821, in register\n    user = create_user(\n        db=db,\n    ...<6 lines>...\n        document_versions=user_data.document_versions,\n    )\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\auth.py", line 160, in create_user\n    hashed_password = get_password_hash(password)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\auth.py", line 86, in get_password_hash\n    return pwd_context.hash(password)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\context.py", line 2258, in hash\n    return record.hash(secret, **kwds)\n           ~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 779, in hash\n    self.checksum = self._calc_checksum(secret)\n                    ~~~~~~~~~~~~~~~~~~~^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\handlers\\bcrypt.py", line 591, in _calc_checksum\n    self._stub_requires_backend()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 2254, in _stub_requires_backend\n    cls.set_backend()\n    ~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 2156, in set_backend\n    return owner.set_backend(name, dryrun=dryrun)\n           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 2163, in set_backend\n    return cls.set_backend(name, dryrun=dryrun)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 2188, in set_backend\n    cls._set_backend(name, dryrun)\n    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 2311, in _set_backend\n    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 2224, in _set_backend\n    ok = loader(**kwds)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\handlers\\bcrypt.py", line 626, in _load_backend_mixin\n    return mixin_cls._finalize_backend_mixin(name, dryrun)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\handlers\\bcrypt.py", line 421, in _finalize_backend_mixin\n    if detect_wrap_bug(IDENT_2A):\n       ~~~~~~~~~~~~~~~^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\handlers\\bcrypt.py", line 380, in detect_wrap_bug\n    if verify(secret, bug_hash):\n       ~~~~~~^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 792, in verify\n    return consteq(self._calc_checksum(secret), chk)\n                   ~~~~~~~~~~~~~~~~~~~^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\handlers\\bcrypt.py", line 655, in _calc_checksum\n    hash = _bcrypt.hashpw(secret, config)\nValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])\n', 'timestamp': '2026-01-01T17:36:27.061124', 'context': {}, 'request': {'url': 'http://localhost:8000/api/auth/register', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate, br', 'accept': '*/*', 'connection': 'keep-alive', 'content-length': '109', 'content-type': 'application/json'}}}
2026-01-01 17:37:19,428 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "C:\Users\engli\Desktop\v4\v4\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2026-01-01 17:37:19,479 - iluminati - ERROR - Error occurred: {'error_type': 'ValueError', 'error_message': 'password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 821, in register\n    user = create_user(\n        db=db,\n    ...<6 lines>...\n        document_versions=user_data.document_versions,\n    )\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\auth.py", line 160, in create_user\n    hashed_password = get_password_hash(password)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\auth.py", line 86, in get_password_hash\n    return pwd_context.hash(password)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\context.py", line 2258, in hash\n    return record.hash(secret, **kwds)\n           ~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 779, in hash\n    self.checksum = self._calc_checksum(secret)\n                    ~~~~~~~~~~~~~~~~~~~^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\handlers\\bcrypt.py", line 591, in _calc_checksum\n    self._stub_requires_backend()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 2254, in _stub_requires_backend\n    cls.set_backend()\n    ~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 2156, in set_backend\n    return owner.set_backend(name, dryrun=dryrun)\n           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 2163, in set_backend\n    return cls.set_backend(name, dryrun=dryrun)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 2188, in set_backend\n    cls._set_backend(name, dryrun)\n    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 2311, in _set_backend\n    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 2224, in _set_backend\n    ok = loader(**kwds)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\handlers\\bcrypt.py", line 626, in _load_backend_mixin\n    return mixin_cls._finalize_backend_mixin(name, dryrun)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\handlers\\bcrypt.py", line 421, in _finalize_backend_mixin\n    if detect_wrap_bug(IDENT_2A):\n       ~~~~~~~~~~~~~~~^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\handlers\\bcrypt.py", line 380, in detect_wrap_bug\n    if verify(secret, bug_hash):\n       ~~~~~~^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 792, in verify\n    return consteq(self._calc_checksum(secret), chk)\n                   ~~~~~~~~~~~~~~~~~~~^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\handlers\\bcrypt.py", line 655, in _calc_checksum\n    hash = _bcrypt.hashpw(secret, config)\nValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])\n', 'timestamp': '2026-01-01T17:37:19.479136', 'context': {}, 'request': {'url': 'http://localhost:8000/api/auth/register', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate, br', 'accept': '*/*', 'connection': 'keep-alive', 'content-length': '109', 'content-type': 'application/json'}}}
2026-01-01 17:39:43,870 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "C:\Users\engli\Desktop\v4\v4\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2026-01-01 17:39:43,964 - iluminati - ERROR - Error occurred: {'error_type': 'ValueError', 'error_message': 'password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 821, in register\n    user = create_user(\n        db=db,\n    ...<6 lines>...\n        document_versions=user_data.document_versions,\n    )\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\auth.py", line 160, in create_user\n    hashed_password = get_password_hash(password)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\auth.py", line 86, in get_password_hash\n    return pwd_context.hash(password)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\context.py", line 2258, in hash\n    return record.hash(secret, **kwds)\n           ~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 779, in hash\n    self.checksum = self._calc_checksum(secret)\n                    ~~~~~~~~~~~~~~~~~~~^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\handlers\\bcrypt.py", line 591, in _calc_checksum\n    self._stub_requires_backend()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 2254, in _stub_requires_backend\n    cls.set_backend()\n    ~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 2156, in set_backend\n    return owner.set_backend(name, dryrun=dryrun)\n           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 2163, in set_backend\n    return cls.set_backend(name, dryrun=dryrun)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 2188, in set_backend\n    cls._set_backend(name, dryrun)\n    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 2311, in _set_backend\n    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 2224, in _set_backend\n    ok = loader(**kwds)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\handlers\\bcrypt.py", line 626, in _load_backend_mixin\n    return mixin_cls._finalize_backend_mixin(name, dryrun)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\handlers\\bcrypt.py", line 421, in _finalize_backend_mixin\n    if detect_wrap_bug(IDENT_2A):\n       ~~~~~~~~~~~~~~~^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\handlers\\bcrypt.py", line 380, in detect_wrap_bug\n    if verify(secret, bug_hash):\n       ~~~~~~^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 792, in verify\n    return consteq(self._calc_checksum(secret), chk)\n                   ~~~~~~~~~~~~~~~~~~~^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\handlers\\bcrypt.py", line 655, in _calc_checksum\n    hash = _bcrypt.hashpw(secret, config)\nValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])\n', 'timestamp': '2026-01-01T17:39:43.963940', 'context': {}, 'request': {'url': 'http://localhost:8000/api/auth/register', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate, br', 'accept': '*/*', 'connection': 'keep-alive', 'content-length': '109', 'content-type': 'application/json'}}}
2026-01-01 17:40:13,686 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "C:\Users\engli\Desktop\v4\v4\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2026-01-01 17:40:13,730 - iluminati - ERROR - Error occurred: {'error_type': 'ValueError', 'error_message': 'password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 821, in register\n    user = create_user(\n        db=db,\n    ...<6 lines>...\n        document_versions=user_data.document_versions,\n    )\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\auth.py", line 160, in create_user\n    hashed_password = get_password_hash(password)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\auth.py", line 86, in get_password_hash\n    return pwd_context.hash(password)\n           ~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\context.py", line 2258, in hash\n    return record.hash(secret, **kwds)\n           ~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 779, in hash\n    self.checksum = self._calc_checksum(secret)\n                    ~~~~~~~~~~~~~~~~~~~^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\handlers\\bcrypt.py", line 591, in _calc_checksum\n    self._stub_requires_backend()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 2254, in _stub_requires_backend\n    cls.set_backend()\n    ~~~~~~~~~~~~~~~^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 2156, in set_backend\n    return owner.set_backend(name, dryrun=dryrun)\n           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 2163, in set_backend\n    return cls.set_backend(name, dryrun=dryrun)\n           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 2188, in set_backend\n    cls._set_backend(name, dryrun)\n    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 2311, in _set_backend\n    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 2224, in _set_backend\n    ok = loader(**kwds)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\handlers\\bcrypt.py", line 626, in _load_backend_mixin\n    return mixin_cls._finalize_backend_mixin(name, dryrun)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\handlers\\bcrypt.py", line 421, in _finalize_backend_mixin\n    if detect_wrap_bug(IDENT_2A):\n       ~~~~~~~~~~~~~~~^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\handlers\\bcrypt.py", line 380, in detect_wrap_bug\n    if verify(secret, bug_hash):\n       ~~~~~~^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\utils\\handlers.py", line 792, in verify\n    return consteq(self._calc_checksum(secret), chk)\n                   ~~~~~~~~~~~~~~~~~~~^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\passlib\\handlers\\bcrypt.py", line 655, in _calc_checksum\n    hash = _bcrypt.hashpw(secret, config)\nValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])\n', 'timestamp': '2026-01-01T17:40:13.730144', 'context': {}, 'request': {'url': 'http://localhost:8000/api/auth/register', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate, br', 'accept': '*/*', 'connection': 'keep-alive', 'content-length': '109', 'content-type': 'application/json'}}}
2026-01-01 17:56:06,721 - iluminati - ERROR - Error occurred: {'error_type': 'DetachedInstanceError', 'error_message': 'Instance <User at 0x1fc404e78c0> is not bound to a Session; attribute refresh operation cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)', 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 833, in register\n    id=user.id,  # type: ignore[arg-type]\n       ^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\attributes.py", line 569, in __get__\n    return self.impl.get(state, dict_)  # type: ignore[no-any-return]\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\attributes.py", line 1096, in get\n    value = self._fire_loader_callables(state, key, passive)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\attributes.py", line 1126, in _fire_loader_callables\n    return state._load_expired(state, passive)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\state.py", line 828, in _load_expired\n    self.manager.expired_attribute_loader(self, toload, passive)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\sqlalchemy\\orm\\loading.py", line 1607, in load_scalar_attributes\n    raise orm_exc.DetachedInstanceError(\n    ...<2 lines>...\n    )\nsqlalchemy.orm.exc.DetachedInstanceError: Instance <User at 0x1fc404e78c0> is not bound to a Session; attribute refresh operation cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)\n', 'timestamp': '2026-01-01T17:56:06.720870', 'context': {}, 'request': {'url': 'http://localhost:8000/api/auth/register', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate, br', 'accept': '*/*', 'connection': 'keep-alive', 'content-length': '109', 'content-type': 'application/json'}}}
2026-01-01 17:56:11,727 - iluminati - ERROR - Error occurred: {'error_type': 'ModuleNotFoundError', 'error_message': "No module named 'aiohttp'", 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 2729, in enhanced_search\n    from services.enhanced_data_extractor import get_enhanced_extractor\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\enhanced_data_extractor.py", line 15, in <module>\n    import aiohttp\nModuleNotFoundError: No module named \'aiohttp\'\n', 'timestamp': '2026-01-01T17:56:11.727550', 'context': {}, 'request': {'url': 'http://localhost:8000/api/v2/search', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate, br', 'accept': '*/*', 'connection': 'keep-alive', 'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0X2F1dG9tYXRpb25AZXhhbXBsZS5jb20iLCJ0aWVyIjoiZnJlZSIsImV4cCI6MTc2OTg3ODU2OX0.2lBQ2R9-ZLAJt0pgjh0T9bNdb-zPgkML-7Jv0jhHiSE', 'content-length': '123', 'content-type': 'application/json'}}}
2026-01-01 17:56:13,865 - iluminati - ERROR - Error occurred: {'error_type': 'ModuleNotFoundError', 'error_message': "No module named 'aiohttp'", 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 2890, in get_company_details\n    from services.enhanced_data_extractor import get_enhanced_extractor\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\enhanced_data_extractor.py", line 15, in <module>\n    import aiohttp\nModuleNotFoundError: No module named \'aiohttp\'\n', 'timestamp': '2026-01-01T17:56:13.865125', 'context': {}, 'request': {'url': 'http://localhost:8000/api/v2/company/SK/35855304', 'method': 'GET', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate, br', 'accept': '*/*', 'connection': 'keep-alive', 'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0X2F1dG9tYXRpb25AZXhhbXBsZS5jb20iLCJ0aWVyIjoiZnJlZSIsImV4cCI6MTc2OTg3ODU2OX0.2lBQ2R9-ZLAJt0pgjh0T9bNdb-zPgkML-7Jv0jhHiSE'}}}
2026-01-01 17:56:15,981 - iluminati - ERROR - Error occurred: {'error_type': 'ModuleNotFoundError', 'error_message': "No module named 'aiohttp'", 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 2729, in enhanced_search\n    from services.enhanced_data_extractor import get_enhanced_extractor\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\enhanced_data_extractor.py", line 15, in <module>\n    import aiohttp\nModuleNotFoundError: No module named \'aiohttp\'\n', 'timestamp': '2026-01-01T17:56:15.981495', 'context': {}, 'request': {'url': 'http://localhost:8000/api/v2/search', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate, br', 'accept': '*/*', 'connection': 'keep-alive', 'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0X2F1dG9tYXRpb25AZXhhbXBsZS5jb20iLCJ0aWVyIjoiZnJlZSIsImV4cCI6MTc2OTg3ODU2OX0.2lBQ2R9-ZLAJt0pgjh0T9bNdb-zPgkML-7Jv0jhHiSE', 'content-length': '123', 'content-type': 'application/json'}}}
2026-01-01 17:56:18,129 - iluminati - ERROR - Error occurred: {'error_type': 'ModuleNotFoundError', 'error_message': "No module named 'aiohttp'", 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 2890, in get_company_details\n    from services.enhanced_data_extractor import get_enhanced_extractor\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\enhanced_data_extractor.py", line 15, in <module>\n    import aiohttp\nModuleNotFoundError: No module named \'aiohttp\'\n', 'timestamp': '2026-01-01T17:56:18.129079', 'context': {}, 'request': {'url': 'http://localhost:8000/api/v2/company/SK/35906215', 'method': 'GET', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate, br', 'accept': '*/*', 'connection': 'keep-alive', 'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0X2F1dG9tYXRpb25AZXhhbXBsZS5jb20iLCJ0aWVyIjoiZnJlZSIsImV4cCI6MTc2OTg3ODU2OX0.2lBQ2R9-ZLAJt0pgjh0T9bNdb-zPgkML-7Jv0jhHiSE'}}}
2026-01-01 17:56:20,256 - iluminati - ERROR - Error occurred: {'error_type': 'ModuleNotFoundError', 'error_message': "No module named 'aiohttp'", 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 2729, in enhanced_search\n    from services.enhanced_data_extractor import get_enhanced_extractor\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\enhanced_data_extractor.py", line 15, in <module>\n    import aiohttp\nModuleNotFoundError: No module named \'aiohttp\'\n', 'timestamp': '2026-01-01T17:56:20.256783', 'context': {}, 'request': {'url': 'http://localhost:8000/api/v2/search', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate, br', 'accept': '*/*', 'connection': 'keep-alive', 'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0X2F1dG9tYXRpb25AZXhhbXBsZS5jb20iLCJ0aWVyIjoiZnJlZSIsImV4cCI6MTc2OTg3ODU2OX0.2lBQ2R9-ZLAJt0pgjh0T9bNdb-zPgkML-7Jv0jhHiSE', 'content-length': '123', 'content-type': 'application/json'}}}
2026-01-01 17:56:22,382 - iluminati - ERROR - Error occurred: {'error_type': 'ModuleNotFoundError', 'error_message': "No module named 'aiohttp'", 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 2890, in get_company_details\n    from services.enhanced_data_extractor import get_enhanced_extractor\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\enhanced_data_extractor.py", line 15, in <module>\n    import aiohttp\nModuleNotFoundError: No module named \'aiohttp\'\n', 'timestamp': '2026-01-01T17:56:22.382049', 'context': {}, 'request': {'url': 'http://localhost:8000/api/v2/company/SK/45406215', 'method': 'GET', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate, br', 'accept': '*/*', 'connection': 'keep-alive', 'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0X2F1dG9tYXRpb25AZXhhbXBsZS5jb20iLCJ0aWVyIjoiZnJlZSIsImV4cCI6MTc2OTg3ODU2OX0.2lBQ2R9-ZLAJt0pgjh0T9bNdb-zPgkML-7Jv0jhHiSE'}}}
2026-01-01 17:56:24,481 - iluminati - ERROR - Error occurred: {'error_type': 'ModuleNotFoundError', 'error_message': "No module named 'aiohttp'", 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 2729, in enhanced_search\n    from services.enhanced_data_extractor import get_enhanced_extractor\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\enhanced_data_extractor.py", line 15, in <module>\n    import aiohttp\nModuleNotFoundError: No module named \'aiohttp\'\n', 'timestamp': '2026-01-01T17:56:24.481129', 'context': {}, 'request': {'url': 'http://localhost:8000/api/v2/search', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate, br', 'accept': '*/*', 'connection': 'keep-alive', 'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0X2F1dG9tYXRpb25AZXhhbXBsZS5jb20iLCJ0aWVyIjoiZnJlZSIsImV4cCI6MTc2OTg3ODU2OX0.2lBQ2R9-ZLAJt0pgjh0T9bNdb-zPgkML-7Jv0jhHiSE', 'content-length': '123', 'content-type': 'application/json'}}}
2026-01-01 17:56:26,589 - iluminati - ERROR - Error occurred: {'error_type': 'ModuleNotFoundError', 'error_message': "No module named 'aiohttp'", 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 2890, in get_company_details\n    from services.enhanced_data_extractor import get_enhanced_extractor\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\enhanced_data_extractor.py", line 15, in <module>\n    import aiohttp\nModuleNotFoundError: No module named \'aiohttp\'\n', 'timestamp': '2026-01-01T17:56:26.589306', 'context': {}, 'request': {'url': 'http://localhost:8000/api/v2/company/CZ/27074358', 'method': 'GET', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate, br', 'accept': '*/*', 'connection': 'keep-alive', 'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0X2F1dG9tYXRpb25AZXhhbXBsZS5jb20iLCJ0aWVyIjoiZnJlZSIsImV4cCI6MTc2OTg3ODU2OX0.2lBQ2R9-ZLAJt0pgjh0T9bNdb-zPgkML-7Jv0jhHiSE'}}}
2026-01-01 19:14:24,549 - services.enhanced_data_extractor - INFO - Searching for 'Agrofert' in countries: ['SK', 'CZ']
2026-01-01 19:14:30,944 - iluminati - ERROR - Error occurred: {'error_type': 'ModuleNotFoundError', 'error_message': "No module named 'jinja2'", 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 2791, in enhanced_export\n    from services.pdf_export_service import get_pdf_service\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\pdf_export_service.py", line 10, in <module>\n    from jinja2 import Template, Environment, FileSystemLoader\nModuleNotFoundError: No module named \'jinja2\'\n', 'timestamp': '2026-01-01T19:14:30.943887', 'context': {}, 'request': {'url': 'http://localhost:8000/api/v2/export', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate', 'accept': '*/*', 'connection': 'keep-alive', 'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0X2F1dG9tYXRpb25AZXhhbXBsZS5jb20iLCJ0aWVyIjoiZnJlZSIsImV4cCI6MTc2OTg4MzI1OH0.GeRNm__cH5919m17ypUEMWuH0K_1QRlPwlbWYwAnPG8', 'content-length': '333', 'content-type': 'application/json'}}}
2026-01-01 19:14:33,324 - iluminati - ERROR - Error occurred: {'error_type': 'ModuleNotFoundError', 'error_message': "No module named 'jinja2'", 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 2791, in enhanced_export\n    from services.pdf_export_service import get_pdf_service\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\pdf_export_service.py", line 10, in <module>\n    from jinja2 import Template, Environment, FileSystemLoader\nModuleNotFoundError: No module named \'jinja2\'\n', 'timestamp': '2026-01-01T19:14:33.324359', 'context': {}, 'request': {'url': 'http://localhost:8000/api/v2/export', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate', 'accept': '*/*', 'connection': 'keep-alive', 'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0X2F1dG9tYXRpb25AZXhhbXBsZS5jb20iLCJ0aWVyIjoiZnJlZSIsImV4cCI6MTc2OTg4MzI1OH0.GeRNm__cH5919m17ypUEMWuH0K_1QRlPwlbWYwAnPG8', 'content-length': '325', 'content-type': 'application/json'}}}
2026-01-01 19:14:41,612 - services.enhanced_data_extractor - INFO - Searching for '35855304' in countries: ['SK']
2026-01-01 19:14:45,709 - services.enhanced_data_extractor - INFO - Searching for '35906215' in countries: ['SK']
2026-01-01 19:14:49,822 - services.enhanced_data_extractor - INFO - Searching for '45406215' in countries: ['SK']
2026-01-01 19:14:53,927 - services.enhanced_data_extractor - INFO - Searching for '27074358' in countries: ['CZ']
2026-01-01 19:15:02,082 - services.enhanced_data_extractor - INFO - Searching for '54684994' in countries: ['SK']
2026-01-01 19:15:07,268 - services.enhanced_data_extractor - INFO - Searching for 'Agrofert' in countries: ['SK', 'CZ']
2026-01-01 19:15:07,282 - services.enhanced_data_extractor - INFO - Searching for '54684994' in countries: ['SK', 'CZ', 'PL', 'HU']
2026-01-01 19:15:15,423 - iluminati - ERROR - Error occurred: {'error_type': 'ModuleNotFoundError', 'error_message': "No module named 'jinja2'", 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 2791, in enhanced_export\n    from services.pdf_export_service import get_pdf_service\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\pdf_export_service.py", line 10, in <module>\n    from jinja2 import Template, Environment, FileSystemLoader\nModuleNotFoundError: No module named \'jinja2\'\n', 'timestamp': '2026-01-01T19:15:15.422797', 'context': {}, 'request': {'url': 'http://localhost:8000/api/v2/export', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate', 'accept': '*/*', 'connection': 'keep-alive', 'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0X2F1dG9tYXRpb25AZXhhbXBsZS5jb20iLCJ0aWVyIjoiZnJlZSIsImV4cCI6MTc2OTg4MzI5OH0.F6Ka1Jrmgfm94ng371mLkZGtm7fKkhnzgUyq-V4Dw8M', 'content-length': '333', 'content-type': 'application/json'}}}
2026-01-01 19:15:15,751 - services.enhanced_data_extractor - INFO - Searching for '54684994' in countries: ['SK']
2026-01-01 19:15:15,811 - services.enhanced_data_extractor - INFO - Searching for '54684994' in countries: ['SK', 'CZ', 'PL', 'HU']
2026-01-01 19:15:17,710 - iluminati - ERROR - Error occurred: {'error_type': 'ModuleNotFoundError', 'error_message': "No module named 'jinja2'", 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 2791, in enhanced_export\n    from services.pdf_export_service import get_pdf_service\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\pdf_export_service.py", line 10, in <module>\n    from jinja2 import Template, Environment, FileSystemLoader\nModuleNotFoundError: No module named \'jinja2\'\n', 'timestamp': '2026-01-01T19:15:17.709862', 'context': {}, 'request': {'url': 'http://localhost:8000/api/v2/export', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate', 'accept': '*/*', 'connection': 'keep-alive', 'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0X2F1dG9tYXRpb25AZXhhbXBsZS5jb20iLCJ0aWVyIjoiZnJlZSIsImV4cCI6MTc2OTg4MzI5OH0.F6Ka1Jrmgfm94ng371mLkZGtm7fKkhnzgUyq-V4Dw8M', 'content-length': '325', 'content-type': 'application/json'}}}
2026-01-01 19:15:26,729 - services.enhanced_data_extractor - INFO - Searching for '35855304' in countries: ['SK']
2026-01-01 19:15:34,109 - services.enhanced_data_extractor - INFO - Searching for '35906215' in countries: ['SK']
2026-01-01 19:15:41,816 - services.enhanced_data_extractor - INFO - Searching for '45406215' in countries: ['SK']
2026-01-01 19:15:45,087 - services.enhanced_data_extractor - INFO - Searching for '52374220' in countries: ['SK']
2026-01-01 19:15:50,032 - services.enhanced_data_extractor - INFO - Searching for '27074358' in countries: ['CZ']
2026-01-01 19:15:50,046 - services.enhanced_data_extractor - INFO - Searching for '52 374 220' in countries: ['SK', 'CZ', 'PL', 'HU']
2026-01-01 19:16:08,959 - services.enhanced_data_extractor - INFO - Searching for '52374220' in countries: ['SK']
2026-01-01 19:16:08,990 - services.enhanced_data_extractor - INFO - Searching for '52 374 220' in countries: ['SK', 'CZ', 'PL', 'HU']
2026-01-01 19:16:24,203 - services.enhanced_data_extractor - INFO - Searching for '52374220' in countries: ['SK']
2026-01-01 19:16:24,264 - services.enhanced_data_extractor - INFO - Searching for '52 374 220' in countries: ['SK', 'CZ', 'PL', 'HU']
2026-01-01 19:16:32,939 - services.enhanced_data_extractor - INFO - Searching for '52374220' in countries: ['SK']
2026-01-01 19:16:32,986 - services.enhanced_data_extractor - INFO - Searching for '52374220' in countries: ['SK', 'CZ', 'PL', 'HU']
2026-01-01 19:16:45,787 - services.enhanced_data_extractor - INFO - Searching for '52374220' in countries: ['SK']
2026-01-01 19:16:45,875 - services.enhanced_data_extractor - INFO - Searching for '52374220' in countries: ['SK', 'CZ', 'PL', 'HU']
2026-01-01 19:18:25,277 - services.enhanced_data_extractor - INFO - Searching for '35855304' in countries: ['SK']
2026-01-01 19:18:29,425 - services.enhanced_data_extractor - INFO - Searching for '35906215' in countries: ['SK']
2026-01-01 19:18:33,547 - services.enhanced_data_extractor - INFO - Searching for '45406215' in countries: ['SK']
2026-01-01 19:18:37,689 - services.enhanced_data_extractor - INFO - Searching for '27074358' in countries: ['CZ']
2026-01-01 19:29:32,470 - services.enhanced_data_extractor - INFO - Searching for 'Agrofert' in countries: ['SK', 'CZ']
2026-01-01 19:29:38,801 - iluminati - ERROR - Error occurred: {'error_type': 'ModuleNotFoundError', 'error_message': "No module named 'jinja2'", 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 2791, in enhanced_export\n    from services.pdf_export_service import get_pdf_service\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\pdf_export_service.py", line 10, in <module>\n    from jinja2 import Template, Environment, FileSystemLoader\nModuleNotFoundError: No module named \'jinja2\'\n', 'timestamp': '2026-01-01T19:29:38.800723', 'context': {}, 'request': {'url': 'http://localhost:8000/api/v2/export', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate', 'accept': '*/*', 'connection': 'keep-alive', 'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0X2F1dG9tYXRpb25AZXhhbXBsZS5jb20iLCJ0aWVyIjoiZnJlZSIsImV4cCI6MTc2OTg4NDE2OH0.6161KNH0YDqOR30ytpvyoamcPDWtrcokyQW1j1VqqfU', 'content-length': '333', 'content-type': 'application/json'}}}
2026-01-01 19:29:41,210 - iluminati - ERROR - Error occurred: {'error_type': 'ModuleNotFoundError', 'error_message': "No module named 'jinja2'", 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 2791, in enhanced_export\n    from services.pdf_export_service import get_pdf_service\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\pdf_export_service.py", line 10, in <module>\n    from jinja2 import Template, Environment, FileSystemLoader\nModuleNotFoundError: No module named \'jinja2\'\n', 'timestamp': '2026-01-01T19:29:41.210041', 'context': {}, 'request': {'url': 'http://localhost:8000/api/v2/export', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate', 'accept': '*/*', 'connection': 'keep-alive', 'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0X2F1dG9tYXRpb25AZXhhbXBsZS5jb20iLCJ0aWVyIjoiZnJlZSIsImV4cCI6MTc2OTg4NDE2OH0.6161KNH0YDqOR30ytpvyoamcPDWtrcokyQW1j1VqqfU', 'content-length': '325', 'content-type': 'application/json'}}}
2026-01-01 19:29:54,520 - services.enhanced_data_extractor - INFO - Searching for '35855304' in countries: ['SK']
2026-01-01 19:29:58,652 - services.enhanced_data_extractor - INFO - Searching for '35906215' in countries: ['SK']
2026-01-01 19:30:02,783 - services.enhanced_data_extractor - INFO - Searching for '45406215' in countries: ['SK']
2026-01-01 19:30:06,906 - services.enhanced_data_extractor - INFO - Searching for '27074358' in countries: ['CZ']
2026-01-01 19:32:28,950 - services.enhanced_data_extractor - INFO - Searching for 'Agrofert' in countries: ['SK', 'CZ']
2026-01-01 19:32:35,221 - iluminati - ERROR - Error occurred: {'error_type': 'ModuleNotFoundError', 'error_message': "No module named 'jinja2'", 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 2791, in enhanced_export\n    from services.pdf_export_service import get_pdf_service\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\pdf_export_service.py", line 10, in <module>\n    from jinja2 import Template, Environment, FileSystemLoader\nModuleNotFoundError: No module named \'jinja2\'\n', 'timestamp': '2026-01-01T19:32:35.221254', 'context': {}, 'request': {'url': 'http://localhost:8000/api/v2/export', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate', 'accept': '*/*', 'connection': 'keep-alive', 'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0X2F1dG9tYXRpb25AZXhhbXBsZS5jb20iLCJ0aWVyIjoiZnJlZSIsImV4cCI6MTc2OTg4NDM0NH0.eqUwT4W8XKIcmwxogEfc-boKQena-LR9npAFtUsIThE', 'content-length': '333', 'content-type': 'application/json'}}}
2026-01-01 19:32:37,596 - iluminati - ERROR - Error occurred: {'error_type': 'ModuleNotFoundError', 'error_message': "No module named 'jinja2'", 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 2791, in enhanced_export\n    from services.pdf_export_service import get_pdf_service\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\pdf_export_service.py", line 10, in <module>\n    from jinja2 import Template, Environment, FileSystemLoader\nModuleNotFoundError: No module named \'jinja2\'\n', 'timestamp': '2026-01-01T19:32:37.596170', 'context': {}, 'request': {'url': 'http://localhost:8000/api/v2/export', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate', 'accept': '*/*', 'connection': 'keep-alive', 'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0X2F1dG9tYXRpb25AZXhhbXBsZS5jb20iLCJ0aWVyIjoiZnJlZSIsImV4cCI6MTc2OTg4NDM0NH0.eqUwT4W8XKIcmwxogEfc-boKQena-LR9npAFtUsIThE', 'content-length': '325', 'content-type': 'application/json'}}}
2026-01-01 19:32:48,181 - services.enhanced_data_extractor - INFO - Searching for '35855304' in countries: ['SK']
2026-01-01 19:32:52,317 - services.enhanced_data_extractor - INFO - Searching for '35906215' in countries: ['SK']
2026-01-01 19:32:56,441 - services.enhanced_data_extractor - INFO - Searching for '45406215' in countries: ['SK']
2026-01-01 19:33:00,565 - services.enhanced_data_extractor - INFO - Searching for '27074358' in countries: ['CZ']
2026-01-01 19:38:40,088 - services.enhanced_data_extractor - INFO - Searching for 'Agrofert' in countries: ['SK', 'CZ']
2026-01-01 19:38:46,306 - iluminati - ERROR - Error occurred: {'error_type': 'ModuleNotFoundError', 'error_message': "No module named 'jinja2'", 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 2791, in enhanced_export\n    from services.pdf_export_service import get_pdf_service\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\pdf_export_service.py", line 10, in <module>\n    from jinja2 import Template, Environment, FileSystemLoader\nModuleNotFoundError: No module named \'jinja2\'\n', 'timestamp': '2026-01-01T19:38:46.306680', 'context': {}, 'request': {'url': 'http://localhost:8000/api/v2/export', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate', 'accept': '*/*', 'connection': 'keep-alive', 'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0X2F1dG9tYXRpb25AZXhhbXBsZS5jb20iLCJ0aWVyIjoiZnJlZSIsImV4cCI6MTc2OTg4NDcxNX0.YcuEgg8v7qQnMED5Z4AI0X3TieputhAU1m7DND5WlDg', 'content-length': '333', 'content-type': 'application/json'}}}
2026-01-01 19:38:48,462 - iluminati - ERROR - Error occurred: {'error_type': 'ModuleNotFoundError', 'error_message': "No module named 'jinja2'", 'traceback': 'Traceback (most recent call last):\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py", line 85, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\\Lib\\contextlib.py", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_utils.py", line 85, in collapse_excgroups\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 148, in add_cors_headers\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\base.py", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py", line 18, in __call__\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 736, in app\n    await route.handle(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py", line 290, in handle\n    await self.app(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 117, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 53, in wrapped_app\n    raise exc\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 103, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 424, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py", line 310, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\main.py", line 2791, in enhanced_export\n    from services.pdf_export_service import get_pdf_service\n  File "C:\\Users\\engli\\Desktop\\v4\\v4\\backend\\services\\pdf_export_service.py", line 10, in <module>\n    from jinja2 import Template, Environment, FileSystemLoader\nModuleNotFoundError: No module named \'jinja2\'\n', 'timestamp': '2026-01-01T19:38:48.461859', 'context': {}, 'request': {'url': 'http://localhost:8000/api/v2/export', 'method': 'POST', 'client': '127.0.0.1', 'headers': {'host': 'localhost:8000', 'user-agent': 'python-requests/2.32.5', 'accept-encoding': 'gzip, deflate', 'accept': '*/*', 'connection': 'keep-alive', 'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0X2F1dG9tYXRpb25AZXhhbXBsZS5jb20iLCJ0aWVyIjoiZnJlZSIsImV4cCI6MTc2OTg4NDcxNX0.YcuEgg8v7qQnMED5Z4AI0X3TieputhAU1m7DND5WlDg', 'content-length': '325', 'content-type': 'application/json'}}}
2026-01-01 20:26:57,357 - services.enhanced_data_extractor - INFO - Searching for '52374220' in countries: ['SK']
2026-01-01 20:26:57,401 - services.enhanced_data_extractor - INFO - Searching for '52374220' in countries: ['SK', 'CZ', 'PL', 'HU']
